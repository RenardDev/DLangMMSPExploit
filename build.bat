@echo off

if exist MMSP_32.dll del MMSP_32.dll
if exist MMSP_32.exp del MMSP_32.exp
if exist MMSP_32.lib del MMSP_32.lib
if exist MMSP_32.obj del MMSP_32.obj

if exist MMSP_64.dll del MMSP_64.dll
if exist MMSP_64.exp del MMSP_64.exp
if exist MMSP_64.lib del MMSP_64.lib
if exist MMSP_64.obj del MMSP_64.obj

if exist ExploitServer_32.exe del ExploitServer_32.exe
if exist ExploitServer_32.exp del ExploitServer_32.exp
if exist ExploitServer_32.lib del ExploitServer_32.lib
if exist ExploitServer_32.obj del ExploitServer_32.obj

if exist ExploitServer_64.exe del ExploitServer_64.exe
if exist ExploitServer_64.exp del ExploitServer_64.exp
if exist ExploitServer_64.lib del ExploitServer_64.lib
if exist ExploitServer_64.obj del ExploitServer_64.obj

dmd -v -w -g -gf -gx -shared -m32 -release -lowmem -check=on -checkaction=halt -boundscheck=safeonly -O -inline -mcpu=baseline -L="/DYNAMICBASE" -L="/SUBSYSTEM:WINDOWS" -L="/NXCOMPAT" -L="/CETCOMPAT" -L="/OPT:REF" -L="/RELEASE" -allinst -of=MMSP_32.dll MMSP.d
dmd -v -w -g -gf -gx -shared -m64 -release -lowmem -check=on -checkaction=halt -boundscheck=safeonly -O -inline -mcpu=baseline -L="/DYNAMICBASE" -L="/SUBSYSTEM:WINDOWS" -L="/NXCOMPAT" -L="/CETCOMPAT" -L="/OPT:REF" -L="/RELEASE" -allinst -of=MMSP_64.dll MMSP.d

dmd -v -g -gf -gx -m32 -release -lowmem -check=on -checkaction=halt -boundscheck=safeonly -O -inline -mcpu=baseline -L="/DYNAMICBASE" -L="/SUBSYSTEM:CONSOLE" -L="/NXCOMPAT" -L="/CETCOMPAT" -L="/OPT:REF" -L="/RELEASE" -allinst -of=ExploitServer_32.exe ExploitServer.d
dmd -v -g -gf -gx -m64 -release -lowmem -check=on -checkaction=halt -boundscheck=safeonly -O -inline -mcpu=baseline -L="/DYNAMICBASE" -L="/SUBSYSTEM:CONSOLE" -L="/NXCOMPAT" -L="/CETCOMPAT" -L="/OPT:REF" -L="/RELEASE" -allinst -of=ExploitServer_64.exe ExploitServer.d

if exist MMSP_32.exp del MMSP_32.exp
if exist MMSP_32.lib del MMSP_32.lib
if exist MMSP_32.obj del MMSP_32.obj

if exist MMSP_64.exp del MMSP_64.exp
if exist MMSP_64.lib del MMSP_64.lib
if exist MMSP_64.obj del MMSP_64.obj

if exist ExploitServer_32.exp del ExploitServer_32.exp
if exist ExploitServer_32.lib del ExploitServer_32.lib
if exist ExploitServer_32.obj del ExploitServer_32.obj

if exist ExploitServer_64.exp del ExploitServer_64.exp
if exist ExploitServer_64.lib del ExploitServer_64.lib
if exist ExploitServer_64.obj del ExploitServer_64.obj


dir MMSP_*.*
dir ExploitServer_*.*

pause
